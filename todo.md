# قائمة المهام - منصة محاميكم

## المرحلة 1: قاعدة البيانات والنماذج
- [x] إنشاء جداول قاعدة البيانات (العقود، القضايا، المقالات، المحامين، المكتبة القانونية)
- [x] تطبيق migrations للقاعدة

## المرحلة 2: الواجهة الأمامية والصفحات الرئيسية
- [x] تحديث التصميم العام والألوان (أزرق داكن ومتدرجات)
- [x] تطوير الصفحة الرئيسية مع الإحصائيات
- [x] إنشاء صفحة عن المنصة
- [x] إنشاء صفحة المقالات القانونية
- [x] إنشاء صفحة المحامين المعتمدين
- [x] إنشاء صفحة الخدمات
- [x] إنشاء صفحة المكتبة القانونية
- [x] إنشاء صفحة تواصل معنا
- [x] إضافة معلومات الرئيس التنفيذي (إبراهيم الحماد)
- [x] إنشاء لوحة التحكم

## المرحلة 3: نظام الذكاء الاصطناعي
- [ ] تطوير نظام تحليل العقود بالذكاء الاصطناعي
- [ ] تطوير نظام توقع نتائج القضايا
- [ ] دمج المعرفة القانونية مع التحليل

## المرحلة 4: المكتبة القانونية
- [ ] إنشاء نظام إدارة المستندات القانونية
- [ ] إضافة محرك بحث في المستندات
- [ ] رفع الكتب والملفات القانونية

## المرحلة 5: الاختبار والنشر
- [ ] اختبار جميع الصفحات والميزات
- [ ] التأكد من التصميم المتجاوب
- [ ] حفظ نقطة تفتيش نهائية

## تحسينات التصميم الجديدة
- [x] تصميم شعار جديد احترافي
- [x] تحديث الشعار في Navbar
- [x] تحديث الشعار في Footer
- [x] تحسين الألوان والتدرجات

## الميزات الجديدة المطلوبة
- [x] إنشاء خدمة الدردشة الذكية (AI Chat)
- [x] تحديث الإحصائيات في الصفحة الرئيسية (277 مستخدم، 23 محامي، 9 مواعيد)
- [x] إضافة قسم المحامين المتعاونين في الصفحة الرئيسية (3 بطاقات وهمية)
- [x] إضافة قسم الإحصائيات التفصيلية في أسفل الصفحة الرئيسية
- [x] إنشاء قسم العقود التفاعلي (Contract Builder)
- [x] إضافة نماذج العقود (بيع وشراء، خدمات، إيجار، عمل)
- [x] إضافة خاصية طباعة وتحميل العقود بصيغة PDF

## مهام جديدة
- [ ] حل مشكلة الأمان في النطاق lawais.org.sa (يتطلب نشر المنصة وانتظار إصدار SSL)
- [x] إضافة صفحة سياسة الخصوصية
- [x] إضافة صفحة شروط الاستخدام
- [x] إضافة روابط الخصوصية والشروط في Footer

## نظام إدارة العقود القانونية الشامل (250+ نموذج)

### قاعدة البيانات والبنية التحتية
- [x] إنشاء جدول contracts_library للعقود (id, title, category, content, fields, source)
- [x] إنشاء جدول contract_categories للتصنيفات
- [x] إنشاء جدول contract_templates للقوالب التفاعلية
- [x] إنشاء جدول user_generated_contracts لعقود المستخدمين

### معالجة الملفات والمحتوى
- [x] استخراج نصوص من 54 ملف PDF كندي (Ramen Legal)
- [ ] استخراج نصوص من 250+ ملف DOC سعودي (Google Drive)
- [x] تصنيف تلقائي للعقود حسب النوع
- [x] تحديد الحقول القابلة للتعبئة في كل عقد
- [ ] إعادة صياغة العقود الكندية للنظام السعودي باستخدام AI
- [ ] مراجعة العقود السعودية والتحقق من توافقها
- [ ] حذف النماذج غير المتداولة في السعودية

### الواجهة الأمامية - قسم العقود
- [x] صفحة عرض مكتبة العقود (Contracts Library)
- [x] نظام الفلترة حسب التصنيف (تجارية، عمل، عقارات، إلخ)
- [x] نظام البحث المتقدم في العقود
- [x] صفحة تفاصيل العقد مع معاينة
- [ ] منشئ العقود التفاعلي (Contract Builder)
- [ ] نظام ملء الحقول الديناميكية
- [ ] معاينة مباشرة للعقد أثناء التعبئة

### الذكاء الاصطناعي للعقود
- [ ] تخصيص العقود حسب بيانات المستخدم
- [ ] اقتراحات ذكية للبنود
- [ ] مراجعة قانونية تلقائية
- [ ] كشف التعارضات والأخطاء

### التصدير والحفظ
- [ ] تصدير العقود بصيغة PDF احترافية
- [ ] تصدير العقود بصيغة DOCX قابلة للتعديل
- [ ] حفظ العقود في حساب المستخدم
- [ ] مشاركة العقود عبر رابط
- [ ] طباعة مباشرة للعقود

## ربط نظام الذكاء الاصطناعي بالمكتبة القانونية
- [ ] معالجة ملفات PDF القانونية من القسم 2 (187 ملف)
- [ ] بناء قاعدة المعرفة القانونية للذكاء الاصطناعي
- [ ] ربط خدمة الدردشة الذكية بمكتبة العقود
- [ ] إضافة السياق القانوني السعودي للذكاء الاصطناعي
- [ ] اختبار دقة الإجابات القانونية
- [ ] تحسين نظام الاستشارات القانونية
- [ ] ربط AI بنظام تحليل العقود

## تعديلات صلاحيات الوصول للأقسام
- [x] فتح الذكاء الاصطناعي (AI Chat) للجميع بدون تسجيل دخول
- [x] فتح قسم العقود للجميع (عرض، ملء البيانات، تحميل)
- [x] قفل قسم المحامين المتعاونين للمشتركين فقط
- [x] إنشاء صفحة حظر الوصول لقسم المحامين
- [x] إضافة رسالة "لا يمكنك زيارة هذا القسم إلا للمشتركين بالمنصة"
- [x] اختبار جميع الصلاحيات

## مهام جديدة - طلب العميل (29 نوفمبر 2025)
- [x] إصلاح نظام ملء البيانات في صفحة العقود
- [x] إضافة صفحة تفاصيل العقد مع نموذج ملء البيانات
- [x] إضافة خاصية تحميل العقد بصيغة PDF بعد ملء البيانات
- [x] إضافة روابط الخدمات في بطاقات الصفحة الرئيسية
- [x] ربط كل خدمة بصفحتها المخصصة (تحليل العقود، توقع القضايا، المكتبة، المحامين، الاستشارات، الأمان)
## نظام الدفع الإلكتروني - Stripe Integration
- [x] تفعيل Stripe في المشروع باستخدام webdev_add_feature
- [x] إنشاء صفحة الاشتراكات والباقات
- [x] إضافة باقة شهرية (99 ريال) وباقة سنوية (999 ريال)
- [x] دمج Stripe Checkout مع دعم Mastercard
- [x] تفعيل Apple Pay في نظام الدفع
- [x] إنشاء صفحة نجاح الدفع
- [x] إنشاء صفحة فشل الدفع
- [x] ربط الاشتراكات بحسابات المستخدمين
- [x] إضافة Webhook handler لـ Stripe

## لوحة تحكم المشتركين - Subscription Dashboard
- [x] إضافة tRPC endpoint لجلب تفاصيل الاشتراك الحالي
- [x] إضافة tRPC endpoint لجلب تاريخ المدفوعات
- [x] إضافة tRPC endpoint لإلغاء الاشتراك
- [x] إضافة tRPC endpoint لإعادة تفعيل الاشتراك
- [x] إنشاء صفحة لوحة تحكم المشتركين
- [x] عرض حالة الاشتراك (نشط/ملغي/منتهي)
- [x] عرض تاريخ بداية ونهاية الاشتراك
- [x] عرض جدول تاريخ المدفوعات
- [x] زر إلغاء الاشتراك مع تأكيد
- [x] زر إعادة تفعيل الاشتراك الملغي
- [x] إضافة رابط لوحة التحكم في Navbar

## نظام الفواتير - Invoices System
- [x] إضافة tRPC endpoint لجلب تفاصيل فاتورة محددة
- [x] إضافة tRPC endpoint لتوليد فاتورة PDF
- [x] إنشاء صفحة الفواتير مع جدول المدفوعات
- [x] تصميم قالب فاتورة احترافي
- [x] إضافة معلومات ضريبية (ضريبة القيمة المضافة 15%)
- [x] زر تحميل PDF لكل فاتورة
- [x] إضافة رابط للفواتير في لوحة تحكم المشتركين

## إصلاحات عاجلة - Bug Fixes
- [x] إصلاح تكرار شريط التنقل (Navbar) عند التمرير - سطح المكتب
- [x] إصلاح Navbar على متصفح الجوال (إخفاء القائمة وإظهار زر hamburger)
- [x] شعار Manus يظهر فقط في وضع المعاينة - لن يظهر بعد النشر

## تطوير صفحة المقالات القانونية - Legal Articles System
- [x] إضافة حقل category للمقالات في schema
- [x] إضافة tRPC endpoint لجلب المقالات حسب التصنيف
- [x] إضافة tRPC endpoint للبحث في المقالات
- [x] إنشاء بيانات تجريبية لمقالات متنوعة (8 مقالات)
- [x] تطوير صفحة المقالات مع:
  - [x] نظام تصنيفات (تجاري، عقاري، جنائي، أسري، عمل، إداري)
  - [x] محرك بحث متقدم
  - [x] فلترة حسب التصنيف
  - [x] عرض البطاقات بتصميم احترافي
- [x] تحديث صفحة تفاصيل المقال
- [x] إضافة مقالات ذات صلة في صفحة التفاصيل


## إصلاحات عاجلة - UI Bugs
- [x] المقالات تعمل بشكل صحيح (لا توجد مشكلة)
- [ ] إصلاح تكرار Navbar عند التمرير (لا تزال موجودة)
- [x] إصلاح صفحة المنصة (فارغة) - تم إضافة route
- [ ] إصلاح بطاقات الخدمات على الجوال (لا يمكن الضغط عليها) - سيتم فحصها
- [x] إضافة أزرار تجربة الخدمات في صفحة الخدمات


## تطوير المكتبة الإلكترونية - Digital Library
- [x] جدول legalDocuments موجود بالفعل في schema
- [x] إضافة tRPC endpoints للمكتبة
- [x] إنشاء بيانات تجريبية (12 كتاب قانوني)
- [x] تطوير صفحة المكتبة مع:
  - [x] نظام تصنيفات (9 تصنيفات)
  - [x] محرك بحث في الكتب
  - [x] بطاقات عرض الكتب
  - [x] زر تحميل PDF


## إصلاحات عاجلة - Typos
- [x] إصلاح الأخطاء المطبعية في عناوين العقود (42 عقد)
- [x] مراجعة جميع العناوين العربية


## تنظيف قاعدة بيانات العقود
- [x] فحص مصادر العقود (PDF vs Google Drive)
- [x] حذف العقود المنسوخة من ملفات PDF (كندية)
- [ ] حذف جميع العقود السابقة
- [ ] فك ضغط ملف ZIP واستخراج أسماء العقود
- [ ] إضافة جميع العقود الجديدة إلى قاعدة البيانات


## تنظيف الموقع للخطة الجديدة - Phase 2 Preparation
- [x] حذف روابط الدردشة الذكية من Navbar
- [x] حذف روابط منشئ العقود من Navbar
- [x] حذف روابط الاستشارات من Navbar
- [x] حذف روابط الاشتراكات والباقات من Navbar
- [x] حذف أزرار اشتراكي ولوحة التحكم من Navbar
- [x] حذف routes من App.tsx (ai-chat, contracts, pricing, subscription, invoices, payment, services, dashboard)
- [x] حذف imports غير المستخدمة من App.tsx
- [x] تحديث الصفحة الرئيسية - حذف بطاقات الخدمات غير المطلوبة
- [x] الإبقاء على 3 بطاقات فقط: المكتبة القانونية، المحامين المعتمدين، المقالات والبحوث
- [x] تحديث Footer.tsx - حذف رابط الخدمات
- [x] تحديث وصف المنصة في Footer
- [x] الاحتفاظ بقاعدة بيانات العقود (292 عقد) للترحيل إلى Phase 1
- [x] الاحتفاظ بكود الدردشة الذكية للترحيل إلى Phase 1
- [x] الاحتفاظ بنظام الاشتراكات Stripe للترحيل إلى Phase 1

## ملاحظات هامة
- جميع ملفات الصفحات المحذوفة موجودة في المشروع للترحيل لاحقاً
- قاعدة البيانات محفوظة بالكامل (292 عقد، 12 كتاب، 8 مقالات)
- المنصة الحالية (Phase 2) تحتوي فقط على: المكتبة، المحامين، المقالات


## تحسينات جديدة - FAQ Section
- [x] إضافة قسم الأسئلة الشائعة (FAQ) في صفحة المحامين المعتمدين
- [x] تصميم accordion component للأسئلة والأجوبة باستخدام shadcn/ui
- [x] إضافة 8 أسئلة شائعة مع إجابات مفصلة ومفيدة
- [x] إضافة رسالة تشجيعية للتواصل في نهاية القسم

## إصلاحات RTL - اتجاه الكتابة
- [x] إصلاح اتجاه الكتابة في قسم FAQ (من اليمين إلى اليسار)
- [x] إضافة dir="rtl" للقسم الرئيسي ولكل سؤال وجواب
- [x] المحاذاة اليمينية (text-right) مع الاتجاه RTL

## إصلاح RTL للعناوين في FAQ
- [x] إصلاح اتجاه كتابة العناوين في AccordionTrigger
- [x] حذف text-left من accordion component
- [x] إضافة classes لنقل أيقونة السهم إلى اليمين
- [x] التأكد من بداية النص من اليمين وليس اليسار

## إصلاح RTL في صفحة عن المنصة (About)
- [x] إصلاح اتجاه العناوين (الهدف، الطموح، الرؤية)
- [x] إضافة dir="rtl" للقسم الرئيسي
- [x] إضافة text-right لجميع العناوين والنصوص
- [x] التأكد من بداية النص من اليمين في جميع الأقسام

## مراجعة شاملة لاتجاه النصوص RTL
- [ ] مراجعة صفحة المكتبة (Library.tsx)
- [ ] مراجعة صفحة تفاصيل الكتاب (BookDetail.tsx)
- [ ] مراجعة صفحة المقالات (Articles.tsx)
- [ ] مراجعة صفحة تفاصيل المقالة (ArticleDetail.tsx)
- [ ] مراجعة صفحة الصفحة الرئيسية (Home.tsx)
- [ ] مراجعة صفحة التواصل (Contact.tsx)
- [ ] مراجعة مكون Navbar
- [ ] مراجعة مكون Footer
- [ ] إصلاح أي مشاكل RTL تم اكتشافها


## تطبيق التصميم الجديد المستوحى من Ivo.ai
- [x] تحديث نظام الألوان في index.css (أخضر داكن، بيج، أصفر نيون)
- [ ] تحديث الخطوط العربية في index.html
- [x] إعادة تصميم Hero Section في الصفحة الرئيسية
- [x] إضافة خلفيات فنية مجردة (radial gradients)
- [x] تحديث تصميم البطاقات (Cards) بنمط Ivo.ai
- [x] إعادة تصميم Navbar بالألوان الجديدة (خلفية بيج، نص أخضر)
- [x] إعادة تصميم Footer بالألوان الجديدة (أخضر داكن)
- [x] تطبيق التصميم على صفحة المكتبة
- [x] التصميم الأساسي مكتمل (الصفحة الرئيسية، Navbar، Footer، المكتبة)

## تحسينات مستقبلية
- [ ] تطبيق التصميم على صفحة المحامين
- [ ] تطبيق التصميم على صفحة المقالات
- [ ] تطبيق التصميم على صفحة عن المنصة
- [ ] إضافة خلفيات فنية مجردة (Abstract Art)
- [ ] إضافة تأثيرات حركية (Animations)


## إزالة محتوى الذكاء الاصطناعي - التركيز على الخدمات الأساسية
- [x] تحديث Hero Section - إزالة ذكر الذكاء الاصطناعي
- [x] تحديث وصف المنصة ليركز على: محامين معتمدين، مكتبة قانونية، مقالات وأخبار
- [x] تحديث قسم الرؤية والهدف (إزالة "مدعومة بالتقنية والذكاء الاصطناعي")
- [x] تحديث Navbar subtitle (من "مستشارك الذكي" إلى "منصة قانونية")
- [x] تحديث Footer description
- [x] تحديث أزرار CTA (من "طلب عرض تجريبي" إلى "تصفح المحامين")


## إصلاح RTL في بطاقات المكتبة القانونية
- [x] إضافة flex-row-reverse لعكس اتجاه العناصر
- [x] إضافة dir="rtl" للعناوين والوصف
- [x] إضافة text-right لجميع النصوص
- [x] التأكد من بداية النص من اليمين
